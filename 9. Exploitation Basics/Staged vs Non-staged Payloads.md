# Staged vs Non-staged Payloads

| Feature | Staged Payload | Non-Staged Payload |
| --- | --- | --- |
| Definition | Delivered in multiple stages. | Delivered in a single, standalone stage. |
| Execution Flow | Executes in multiple phases or steps. | Executes as a single, self-contained unit. |
| Payload Size | Generally smaller in size for each stage. | Typically larger as it contains the entire payload. |
| Network Interaction | Requires continuous communication between stages. | Involves minimal or no communication after initial delivery. |
| Latency Impact | May introduce latency due to multiple interactions. | Lower latency as it is a single payload. |
| Detection Difficulty | Potentially more challenging to detect, as each stage may appear benign individually. | Easier to detect as the entire payload is delivered at once. |
| Usage Scenario | Useful when trying to evade detection or bypass security controls. | Suitable for scenarios where a single payload is sufficient, and latency is a concern. |

Using metasploit as an example we can set payloads using the `set payload`  command to set a staged payload such as: `windows/meterpreter_reverse_tcp` or a non-staged payload like: `windows/meterpreter/reverse_tcp`

The choice between staged and non-staged payloads depends on various factors, including the specific exploitation scenario, the target environment, and the goals of the penetration test or attack. Staged payloads are often used to bypass security measures incrementally, while non-staged payloads are simpler and may be more suitable for scenarios with limited network interaction capabilities.